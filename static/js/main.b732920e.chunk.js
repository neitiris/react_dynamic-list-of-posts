(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(22)},19:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(10),c=n.n(s),o=n(2),u=n.n(o),i=n(11),l=n(3),m=n(4),p=n(5),d=n(7),f=n(6),h=n(8),b=(n(19),n(1)),y=n.n(b);y.a.state={users:y.a.shape({id:y.a.number,name:y.a.string,username:y.a.string,email:y.a.string,address:y.a.shape({street:y.a.string,suite:y.a.string,city:y.a.string}),phone:y.a.string,website:y.a.string,company:y.a.shape({name:y.a.string})}),todos:y.a.shape({userId:y.a.number,id:y.a.number,title:y.a.string,completed:y.a.boolean})};var v=y.a,E="https://jsonplaceholder.typicode.com",g=function(){var e=Object(l.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/posts",e.next=3,fetch("".concat(E).concat("/posts"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/users",e.next=3,fetch("".concat(E).concat("/users"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/comments",e.next=3,fetch("".concat(E).concat("/comments"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();var C=function(e){var t=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,t.name),r.a.createElement("p",null,t.email),r.a.createElement("p",null,"".concat(t.address.city," ").concat(t.address.street," ").concat(t.address.suite)))},w=function(e){var t=e.commentData;return r.a.createElement("li",{key:t.id},r.a.createElement("h3",null,t.name),r.a.createElement("p",null,t.body),r.a.createElement("p",null,t.email))},x=function(e){return r.a.createElement("ul",{key:"comments_list"},e.comment.map(function(e){return r.a.createElement(w,{key:"comment_".concat(5*Math.random()),commentData:e})}))},O=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={openComments:!1},n.handleCommentClick=function(){n.setState(function(e){return{openComments:!1===e.openComments}})},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.postData;return r.a.createElement("li",{key:"post_".concat(e.id),className:"post_item"},r.a.createElement("h3",null,e.title),r.a.createElement("p",null,e.body),r.a.createElement(C,{user:e.user}),this.state.openComments?r.a.createElement(x,{comment:e.commentsList}):"",r.a.createElement("div",null,r.a.createElement("span",null,e.commentsList.length," comments : "),r.a.createElement("button",{type:"button",onClick:this.handleCommentClick},this.state.openComments?"close":"open")))}}]),t}(r.a.Component),L=function(e){return r.a.createElement("ul",{key:"post_list",className:"post_list"},e.posts.map(function(e){return r.a.createElement(O,{key:"post_".concat(e.id),postData:e})}))},S=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],users:[],comments:[],isLoaded:!1,isLoading:!1,query:""},n.handleClick=function(){n.setState({isLoading:!0}),n.loadData().then(function(){n.setState({isLoaded:!0,isLoading:!1})})},n.handleChange=function(e){n.setState({query:e.target.value})},n.search=function(e){e.preventDefault(),n.setState(function(e){return{posts:e.posts.filter(function(t){return t.body.includes(e.query)})}})},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"loadData",value:function(){var e=Object(l.a)(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k().then(function(e){t.setState({users:e})});case 2:return e.next=4,j().then(function(e){t.setState({comments:e})});case 4:return e.next=6,g().then(function(e){t.setState(function(t){return{posts:e.map(function(e){return Object(i.a)({},e,{user:t.users.find(function(t){return t.id===e.userId}),commentsList:t.comments.filter(function(t){return t.postId===e.userId})})})}})});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("main",null,this.state.isLoaded?r.a.createElement("div",{className:"App"},r.a.createElement("form",{onSubmit:this.search},r.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.query}),r.a.createElement("button",{type:"submit"},"find")),r.a.createElement("h1",null,"Dynamic list of Posts"),r.a.createElement(L,{posts:this.state.posts})):r.a.createElement("button",{className:"btn",type:"submit",disabled:this.state.isLoading,onClick:this.handleClick},this.state.isLoading?"Loading...":"Load"))}}]),t}(r.a.Component);v.state=v;var D=S;c.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.b732920e.chunk.js.map